<!DOCTYPE html>
<html lang="en">
<title>Prenotazione Lezioni Online</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<link rel="stylesheet" href="style.css" />


<script>
    export default {
        name: 'App',
        data() {
            return {
                authenticated: false,
                mockAccount: {
                    username: "nraboy",
                    password: "password"
                }
            }
        },
        mounted() {
            if(!this.authenticated) {
                this.$router.replace({ name: "login" });
            }
        },
        methods: {
            setAuthenticated(status) {
                this.authenticated = status;
            },
            logout() {
                this.authenticated = false;
            }
        }
    }
</script>


<script>
    $(document).ready(function () { // When the DOM of this page is constructed
        $("#go").click(function () { // on click of go button do...
            var n = document.getElementById("utente").value;
            var m = document.getElementById("password").value;

            //   var m = document.getElementById("fpassword").value;
            $.post("Servlet02", {utente: n, password: m},  // POST to NewServlet
                function (data) {       // callBack function
                    //alert(data);
                    $("#saluto").html(data); // Select element
                    //(by ID) and insert dynamic content (data) into it
                });
        });
    });

    $(document).ready(function () {
        $("#no").click(function () {
            var elem = document.getElementById("no").value;
            $.post("Servlet02", {no: elem},
                function(data2) {
                    $("#saluto2").html(data2);
        });
        });
    });



</script>


</head>
<body>

<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Logo</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Projects</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><form class="navbar-form navbar-right" role="form" method="post">

                    <div id="app">
                        <input  v-show="!isFavorite" id="utente" type="text" class="form-control" name="utente" value="" placeholder="Utente">
                        <input  v-show="!isFavorite" id="password" type="password" class="form-control" name="password" value="" placeholder="Password">
                        <button @click="addToFavorites" v-show="!isFavorite" id="go"  name="go" type="button" value="GO" type="submit" class="btn btn-primary">Login</button>
                        <button @click="addToFavorites" v-show="isFavorite" id="no"  name="no" type="button" value="GO" type="submit" class="btn btn-primary">Logout</button>
                    </div>

                    <script src="https://unpkg.com/vue"></script>
                    <script>
                        new Vue({
                            el: '#app',
                            data: {
                                isFavorite: false
                            },
                            methods: {
                                addToFavorites() {
                                    this.isFavorite = true;
                                },
                                deleteFromFavorites() {
                                    this.isFavorite = false;
                                }
                            }
                        })
                    </script>

                </form>



                </li>


            </ul>
        </div>
    </div>
</nav>
<div id="home">
<div class="container-fluid text-center">
    <div class="row content">
        <div class="col-sm-2 sidenav">
            <p><a href="#">Link</a></p>
            <p><a href="#">Link</a></p>
            <p><a href="#">Link</a></p>
        </div>
        <div class="col-sm-8 text-left">
            <h1></h1>

            <table>
                <summary>Gestione delle lezioni</summary>
                <thead>
                <tr>
                    <th>Slot Orario</th>
                    <th>Lunedì</th>
                    <th>Martedì</th>
                    <th>Mercoledì</th>
                    <th>Giovedì</th>
                    <th>Venerdì</th>
                </tr>
                </thead>

                <tr class="week">
                    <td>
                        <span class="date">15:00/16:00</span>
                    </td>
                    <td>
                        <span class="date">27</span>
                    </td>
                    <td>
                        <span class="date">28</span>
                    </td>
                    <td>
                        <span class="date">29</span>
                    </td>
                    <td>
                        <span class="date">30</span>
                    </td>
                    <td>
                        <span class="date">31</span>
                    </td>
                </tr>


                <tr class="week">
                    <td>
                        <span class="date">16:00/17:00</span>
                    </td>
                    <td>
                        <span class="date">3</span>
                    </td>
                    <td>
                        <span class="date">4</span>
                    </td>
                    <td>
                        <span class="date">5</span>
                    </td>
                    <td>
                        <span class="date">6</span>
                    </td>
                    <td>
                        <span class="date">7</span>
                    </td>
                </tr>


                <tr class="week">
                    <td>
                        <span class="date">17:00/18:00</span>
                    </td>
                    <td>
                        <span class="date">10</span>
                    </td>
                    <td>
                        <span class="date">11</span>
                    </td>
                    <td>
                        <span class="date">12</span>
                    </td>
                    <td>
                        <span class="date">13</span>
                    </td>
                    <td>
                        <span class="date">14</span>
                    </td>
                </tr>


                <tr class="week">
                    <td>
                        <spam class="date">18:00/19:00</spam>
                    </td>
                    <td>
                        <span class="date">17</span>
                    </td>
                    <td>
                        <span class="date">18</span>
                    </td>
                    <td>
                        <span class="date">19</span>
                    </td>
                    <td>
                        <span class="date">20</span>
                    </td>
                    <td>
                        <span class="date">21</span>
                    </td>
                </tr>

            </table>
        </div>
    </div>
</div>
</div>

<footer class="container-fluid text-center">
    <div id="saluto" class="outputTextArea"></div></p>
    <div id="saluto2" class="outputTextArea"></div>

    <template>
        <div id="app1">
            <div id="nav">
                <router-link v-if="authenticated" to="/login" v-on:click.native="logout()" replace>Logout</router-link>
            </div>
            <router-view @authenticated="setAuthenticated" />
        </div>
    </template>

</footer>

</body>
</html>